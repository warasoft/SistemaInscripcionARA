@{
    ViewBag.IconoPerfil = SINU.Models.Func.f_BuscaIcono();
}


<!DOCTYPE html>
<html class="h-100">
<head>
    <meta name="theme-color" content="#343a40" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-Frame-Options" content="deny">
    <!--El  ViewBag.Title debe cargarse en cada view o en el codigo del action que llama a una view   -->
    <title>@ViewBag.Title</title>

    <link rel="shortcut icon" href="~/Imagenes/favicon.ico" type="image/x-icon" />

    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
</head>
<body class="h-100">
    <div class="row position-fixed justify-content-center align-content-center h-100 w-100 bg-white" style="z-index:99999; margin-left:0;top:0" id="loader">
        <div class=" justify-content-center align-content-center text-center pb-5 pt-3">
            <img class="card-img img-fluid lodaer-img" src="~/Imagenes/loader.png" alt="Card image cap">
            <h4 class="textLoades mb-3">SINU</h4>
            <div class="loader"></div>
        </div>

    </div>
    <style type="text/css">



        .loader,
        .loader:before,
        .loader:after {
            border-radius: 50%;
            width: 1.5em;
            height: 1.5em;
            -webkit-animation-fill-mode: both;
            animation-fill-mode: both;
            -webkit-animation: load7 1.8s infinite ease-in-out;
            animation: load7 1.5s infinite ease-in-out;
        }

        .lodaer-img {
            width: 65%
        }

        #logo {
            width: 16rem;
            padding: 0px;
            padding-right: 1rem;
        }

        @@media screen and (max-width: 601px) {
            #logo {
                width: 15rem;
            }

            #navbarSupportedContent {
                margin-left: 0rem !important;
            }

            .lodaer-img {
                width: 55% !important;
            }

            .loader {
                font-size: 8px !important;
            }

            .textLoades {
                margin-bottom: 1rem
            }
        }

        .loader {
            color: #808080;
            font-size: 10px;
            margin: -2rem auto;
            position: relative;
            text-indent: -9999em;
            -webkit-transform: translateZ(0);
            -ms-transform: translateZ(0);
            transform: translateZ(0);
            -webkit-animation-delay: -0.16s;
            animation-delay: -0.16s;
        }

            .loader:before,
            .loader:after {
                content: '';
                position: absolute;
                top: 0;
            }

            .loader:before {
                left: -3.5em;
                -webkit-animation-delay: -0.32s;
                animation-delay: -0.32s;
            }

            .loader:after {
                left: 3.5em;
            }

        @@-webkit-keyframes load7 {
            0%, 80%, 100% {
                box-shadow: 0 2.5em 0 -1.3em;
            }

            40% {
                box-shadow: 0 2.5em 0 0;
            }
        }

        @@keyframes load7 {
            0%, 80%, 100% {
                box-shadow: 0 2.5em 0 -1.3em;
            }

            40% {
                box-shadow: 0 2.5em 0 0;
            }
        }

        }
        animation-delay: -0.32s;
        }

        .loader:after {
            left: 3.5em;
        }

        @@-webkit-keyframes load7 {
            0%,
            80%,
            100% {
                box-shadow: 0 2.5em 0 -1.3em;
            }

            40% {
                box-shadow: 0 2.5em 0 0;
            }
        }

        @@keyframes load7 {
            0%,
            80%,
            100% {
                box-shadow: 0 2.5em 0 -1.3em;
            }

            40% {
                box-shadow: 0 2.5em 0 0;
            }
        }
    </style>




    <!-- aqui comienza el menú Principal con cada opcion según el grupo al que pertenece-->
    <div class="navbar navbar-expand-lg navbar-dark bg-dark  fixed-top" style="margin-bottom:10px">
        <div class="container">
            <div class="navbar-header">
                @*muestro el icono como de un barco de frente delante del primer item del MENU*@
                @*<p class="nav navbar-text navbar-left ">
                        <i class="fas fa-ship" style="color:deepskyblue"> </i>&ensp;
                    </p>*@

                @*@Html.ActionLink("SINU", "Index", "Home", new { area = "" }, new { @class = "navbar-brand", @style = "font-size:25px" })*@
                <a href="/"><img src="~/Imagenes/logo.png" alt="Alternate Text" class="img-fluid" id="logo" /></a>


            </div>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent" style="margin-left:-4rem">
                <ul class="navbar-nav mr-auto mt-2 mt-lg-0 navMenu">

                    <!--Armado de los link standard para todos los perfiles/grupos     -->
                    @*<li class="nav-item">@Html.ActionLink("texto a mostrar", "accion", "controlador", null, htmlAttributes: new { @class = "nav-link" })</li>*@
                    @*<li class="nav-item">@Html.ActionLink("Acerca de", "About", "Home", null, htmlAttributes: new { @class = "nav-link" })</li>*@

                    <!--Armado de link de prueba actual .. quitar en el definitivo     -->
                    @*<li class="nav-item">@Html.ActionLink("Eliminar Registro de Prueba", "Vaciar", "Home", null, htmlAttributes: new { @class = "nav-link" })</li>*@

                    <!--Armado del menu para el perfil/grupo correspondiente     -->
                    <!-- RenderSection(“NombreSeccion”, required) SI required= false esta sección es opcional, con valor a true le decimos que es obligatorio-->
                    @if (User.Identity.IsAuthenticated)
                    {
                        @Html.Partial(SINU.Models.Func.CorrespondeMenu());
                    }
                    <li class="nav-item">@Html.ActionLink("Contacto", "Contact", "Home", null, htmlAttributes: new { @class = "nav-link" })</li>
                    <li class="nav-item">@Html.ActionLink("Acerca de", "About", "Home", null, htmlAttributes: new { @class = "nav-link" })</li>

                </ul>



                <!--Coloca Link de SESION en extremo Derecho     -->
                @Html.Partial("_LoginPartial")

            </div>
        </div>
    </div>
    <!-- aqui TERMINA el menú Principal -->

    <div id="body" class="container body-content">
        <br /><br />
        <!--Aquí se substituye con el contenido de la pagina VIEW que corresponda según la llamada ejecutada desde las Action -->
        @RenderBody()
        <br />

    </div>
    <footer class="" style="background-color:white;height: 4%;font-size: 0.9rem;">
        <p class="text-center mr-2 mb-1 ">
            &copy;@DateTime.Now.Year - SINU - Servicio de Informatica de la Armada - Dpto: Desarrollo de Sistemas
        </p>
    </footer>
    <div class="modal fade" id="ModalAnuncios" tabindex="-1" role="dialog" aria-labelledby="ModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="ModalCenterTitle">@* Titulo del modal *@</h5>

                </div>
                <div class="modal-body text-center">
                    <p id="TextModal" style="font-size:1rem">@* mensaje del Modal *@</p>
                </div>
                <div class="modal-footer ">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal" id="BTNModal">@* TExto de Boton *@</button>
                    <button type="button" class="btn btn-primary" id="OK">Guardar de todas formas</button>
                </div>
            </div>
        </div>
    </div>

    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    @Scripts.Render("~/bundles/jqueryval")

    @RenderSection("scripts", required: false)

</body>
</html>

<script>
    //$(document).ready(function () {
    //    $(":input").attr("autocomplete","off"); 

    //})

    $(window).on('load', function () {
        $(".navMenu li a").each(function (a) {
            var herfList = $(this).attr("href").split('/')
            if (window.location.href.indexOf(herfList[herfList.length-1]) > -1) {
                if ($(this).hasClass("dropdown-item")) {                   
                    $(this).addClass(" bg-dark text-white").closest(".nav-item.dropdown").children("a").addClass("text-white");
                } else {
                    $(this).addClass("text-white");
                }
                
            }
        });

    });

    $(document).on("click",".load-submit", function () {
        $.Cargando();
    });

    $(document).ready(function () {
        $('#loader').delay(300).fadeOut('fast');
    })

    $.Anuncio = function (texto) {
        $("#BTNModal").show().html("Cerrar");
        $("#ModalAnuncios .modal-body").removeClass("text-center");
        $("#ModalAnuncios .modal-content").css("background-color", "white").css("border-color", "white");
        $("#OK").css("display", "none");
        $(".modal-header,.modal-footer").show();
        $("#ModalCenterTitle").html("SINU:");
        $("#TextModal").html(texto);
        $("#ModalAnuncios").modal({ backdrop: 'static', keyboard: false });
    };

    $.Cargando = function () { 
        $("#ModalAnuncios .modal-body").addClass("text-center");
        $("#ModalAnuncios .modal-content").css("background-color", "transparent").css("border-color", "transparent");
        $("#OK").css("display", "none");
        $("#ModalAnuncios .modal-header,#ModalAnuncios .modal-footer").hide();
        $("#TextModal").html("<img src='/Imagenes/loader.gif' style='width:30vh;border-radius: 5px'/>");
        $("#ModalAnuncios").modal({ backdrop: 'static', keyboard: false });
    };
        
</script>


